<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title></title>
	<link rel="stylesheet" href="style.css">
</head>
<body>
	
	<div class="keys">
		<div data-key ="65" class="key">
			<kbd>A</kbd>
			<span class="sound">clap</span>	
		</div>
		<div data-key ="83" class="key">
			<kbd>S</kbd>
			<span class="sound">hihat</span>	
		</div>
		<div data-key ="68" class="key">
			<kbd>D</kbd>
			<span class="sound">kick</span>	
		</div>
	</div>
	<audio data-key="65" src="http://www.dropbox.com/s/o7og85daizlcaem/clap.wav?dl=1"></audio>

	<audio data-key="83" src="http://www.dropbox.com/s/o7og85daizlcaem/clap.wav?dl=1"></audio>

	<audio data-key="68" src="http://www.dropbox.com/s/o7og85daizlcaem/clap.wav?dl=1"></audio>
	<script>
		window.addEventListener('keydown',function(e){
			const audio = document.querySelector(`audio[data-key ="${e.keyCode}"]`);
			const key = document.querySelector(`.key[data-key ="${e.keyCode}"]`);
			if(!audio) return; //stop the function from running off together
			audio.currentTime = 0; //rewind to the start
			audio.play();
			key.classList.add('playing');
	
			});
		function removeTransition(e){
			if(e.propertyName !== 'transform') return; //skip it if it isn't a transform
			this.classList.remove('playing');
		}
		const keys = document.querySelectorAll('.key');
		keys.forEach(key=> key.addEventListener('transitionend',removeTransition));
	</script>
</body>
</html>